<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlibabHackatho</title>
    <link href="myStyle.css" rel="stylesheet"/>
    <script src="jquery-3.6.3.min.js"></script>  
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>  
   <!--<script src="myScript.js"></script> -->

</head>
<body>
    <p id="map"></p>
    <script>
        var watchID = null;  
$(document).ready(function(){  
    var optn = {  
enableHighAccuracy: true,  
            timeout: Infinity,  
            maximumAge: 0     
        };  
    if( navigator.geolocation )  
     navigator.geolocation.watchPosition(success, fail, optn);  
    else  
     $("p").html("HTML5 Not Supported");  
$("button").click(function(){  
      
    if(watchID)  
     navigator.geolocation.clearWatch(watchID);  
       
    watchID = null;  
    return false;  
});  
      
});  
  
function success(position)  
{  
    var googleLatLng = new google.maps.LatLng(position.coords.latitude,   
                        position.coords.longitude);  
    var mapOtn={  
zoom:10,  
center:googleLatLng,  
mapTypeId:google.maps.MapTypeId.ROAD  
    };  
      
    var Pmap=document.getElementById("map");  
      
    var map=new google.maps.Map(Pmap, mapOtn);  
    addMarker(map, googleLatLng, "alibaba_hackthon.com")  
    //              "SATISH B 
//<b>About Me:</b>https://alibaba_hackthon.com/about/");  
}  
  
function addMarker(map, googleLatLng, title, content){  
    var markerOptn={  
position:googleLatLng,  
map:map,  
title:title,  
animation:google.maps.Animation.DROP  
    };  
      
    var marker=new google.maps.Marker(markerOptn);  
      
    var infoWindow=new google.maps.InfoWindow({ content: content,   
                                                   position: googleLatLng});  
    google.maps.event.addListener(marker, "click", function(){  
        infoWindow.open(map);  
    });                                                  
}  
  
function fail(error)  
{  
    var errorType={  
0:"Unknown Error",  
1:"Permission denied by the user",  
2:"Position of the user not available",  
3:"Request timed out"  
    };  
      
    var errMsg = errorType[error.code];  
      
    if(error.code == 0 || error.code == 2){  
        errMsg = errMsg+" - "+error.message;  
    }  
      
    $("p").html(errMsg);  
}  
    </script>
</body>
</html>